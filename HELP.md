# –¢–µ–æ—Ä—ñ—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è DDD, —ñ –Ω–µ —Ç—ñ–ª—å–∫–∏

# üéØ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Value Objects —É DDD

–£ –¥–æ–º–µ–Ω–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–æ–º—É –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—ñ (DDD) —á–∞—Å—Ç–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –ø—Ä–∞–∫—Ç–∏–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö –∫–ª–∞—Å—ñ–≤ –∞–±–æ record-—ñ–≤ –¥–ª—è –ø–æ–ª—ñ–≤ —É –¥–æ–º–µ–Ω–Ω–∏—Ö –º–æ–¥–µ–ª—è—Ö. –¶–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è Value Object –ø—ñ–¥—Ö—ñ–¥.

üîç –ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ?

–í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–∞ —Ä—ñ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ

–ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –≤ –∫–æ–∂–Ω–æ–º—É –º—ñ—Å—Ü—ñ –∫–æ–¥—É, –º–∏ –≥–∞—Ä–∞–Ω—Ç—É—î–º–æ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å —â–µ –Ω–∞ –µ—Ç–∞–ø—ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äô—î–∫—Ç–∞.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, ProductName –∑–∞–≤–∂–¥–∏ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º, –∞ Price –º–∞—î –±—É—Ç–∏ –¥–æ–¥–∞—Ç–Ω–∏–º.

–Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏

–õ–æ–≥—ñ–∫–∞, —â–æ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç—É, –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —Ä–∞–∑–æ–º —ñ–∑ –Ω–∏–º.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, Price –º–æ–∂–µ –º–∞—Ç–∏ –º–µ—Ç–æ–¥ applyDiscount(Percentage) –∑–∞–º—ñ—Å—Ç—å –≤–∏–Ω–µ—Å–µ–Ω–Ω—è —Ü—ñ—î—ó –ª–æ–≥—ñ–∫–∏ —É —Å–µ—Ä–≤—ñ—Å.

–°–µ–º–∞–Ω—Ç–∏—á–Ω–∞ –∑—Ä–æ–∑—É–º—ñ–ª—ñ—Å—Ç—å

–ö–æ–¥ —Å—Ç–∞—î –±—ñ–ª—å—à –≤–∏—Ä–∞–∑–Ω–∏–º: –∑–∞–º—ñ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–≥–æ String –∞–±–æ BigDecimal –º–∏ –±–∞—á–∏–º–æ ProductName, ProductDescription, Price.

–¶–µ –∑–º–µ–Ω—à—É—î –ø–ª—É—Ç–∞–Ω–∏–Ω—É —Ç–∞ –ø—ñ–¥–≤–∏—â—É—î —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å.

–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ–º–∏–ª–æ–∫

–ù–µ–º–æ–∂–ª–∏–≤–æ –≤–∏–ø–∞–¥–∫–æ–≤–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ –Ω–µ —Ç–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä: –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ProductName –Ω–µ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–ø–ª—É—Ç–∞—Ç–∏ –∑ CategoryName, —è–∫—â–æ –≤–æ–Ω–∏ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏.

–Ü–º–º‚Äô—é—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å

–ë—ñ–ª—å—à—ñ—Å—Ç—å Value Objects —Ä–æ–±–ª—è—Ç—å –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏ (record —É Java –∞–±–æ final-–ø–æ–ª—è).

–¶–µ –ø—ñ–¥–≤–∏—â—É—î –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å —Ç–∞ –ø–æ–ª–µ–≥—à—É—î —Ä–æ–±–æ—Ç—É –∑ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–æ—é –æ–±—Ä–æ–±–∫–æ—é.

üì¶ –ü—Ä–∏–∫–ª–∞–¥:
public record ProductName(String value) {
public ProductName {
if (value == null || value.isBlank()) {
throw new IllegalArgumentException("Product name cannot be empty");
}
}
}

public record Price(BigDecimal value) {
public Price {
if (value == null || value.compareTo(BigDecimal.ZERO) <= 0) {
throw new IllegalArgumentException("Price must be greater than zero");
}
}

    public Price applyDiscount(BigDecimal percentage) {
        return new Price(value.subtract(value.multiply(percentage)));
    }
}


–¢–µ–ø–µ—Ä —É –¥–æ–º–µ–Ω–Ω—ñ–π –º–æ–¥–µ–ª—ñ Product –º–∏ –ø—Ä–∞—Ü—é—î–º–æ –Ω–µ –∑ "—Å–∏—Ä–∏–º–∏" —Ç–∏–ø–∞–º–∏, –∞ –∑ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏–º–∏ –æ–±–≥–æ—Ä—Ç–∫–∞–º–∏:

public class Product {
private final ProductName name;
private final Price price;
private final ProductDescription description;
// ...
}


‚úÖ –¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ–ø–æ–º–∞–≥–∞—î –∑—Ä–æ–±–∏—Ç–∏ –¥–æ–º–µ–Ω–Ω—É –º–æ–¥–µ–ª—å –±—ñ–ª—å—à –∑–∞—Ö–∏—â–µ–Ω–æ—é, –≤–∏—Ä–∞–∑–Ω–æ—é —ñ –±–ª–∏–∂—á–æ—é –¥–æ –±—ñ–∑–Ω–µ—Å-—Ç–µ—Ä–º—ñ–Ω—ñ–≤, –∞ –Ω–µ –¥–æ —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –ø—Ä–∏–º—ñ—Ç–∏–≤—ñ–≤.

# –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –≤ DDD

# –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —É DDD ‚Äì —Ä–æ–∑—à–∏—Ä–µ–Ω–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∞

1. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –æ–ø–µ—Ä—É—é—Ç—å —Ç—ñ–ª—å–∫–∏ –¥–æ–º–µ–Ω–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏ (Aggregate Roots).**
    - –í–æ–Ω–∏ –Ω–µ –∑–Ω–∞—é—Ç—å –ø—Ä–æ DTO, –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –∞–±–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏.

2. **–ù—ñ—è–∫–∏—Ö DTO —Ç—É—Ç –±—É—Ç–∏ –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ.**
    - DTO –Ω–∞–ª–µ–∂–∞—Ç—å application –∞–±–æ web —à–∞—Ä—É.

3. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –Ω–∞–±—ñ—Ä –º–µ—Ç–æ–¥—ñ–≤:**
    - `save(AggregateRoot aggregate)` ‚Äì –∑–±–µ—Ä–µ–≥—Ç–∏ –∞–±–æ –æ–Ω–æ–≤–∏—Ç–∏ –∞–≥—Ä–µ–≥–∞—Ç
    - `findById(Id id)` ‚Äì –∑–Ω–∞–π—Ç–∏ –∞–≥—Ä–µ–≥–∞—Ç –∑–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º
    - `findAll()` ‚Äì –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∞–≥—Ä–µ–≥–∞—Ç–∏
    - `delete(AggregateRoot aggregate)` ‚Äì –≤–∏–¥–∞–ª–∏—Ç–∏ –∞–≥—Ä–µ–≥–∞—Ç
    - `existsById(Id id)` ‚Äì –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∞–≥—Ä–µ–≥–∞—Ç—É
    - `count()` ‚Äì –ø—ñ–¥—Ä–∞—Ö—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∞–≥—Ä–µ–≥–∞—Ç—ñ–≤
    - `findBySomeField(FieldType field)` ‚Äì –ø–æ—à—É–∫ –∑–∞ —ñ–Ω—à–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏ (–æ–ø—Ü—ñ–π–Ω–æ)
    - `findAllBySpecification(Specification spec)` ‚Äì –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Spring Data JPA)
    - `flush()` ‚Äì –ø—Ä–∏–º—É—Å–æ–≤–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω —É –ë–î (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

4. **–û–Ω–æ–≤–ª–µ–Ω–Ω—è Aggregate Root:**
    - –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –æ–±‚Äô—î–∫—Ç –∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é:
      ```java
      Product product = productRepository.findById(id)
          .orElseThrow(() -> new RuntimeException("Product not found"));
      ```
    - –í–∏–∫–ª–∏–∫–∞—î–º–æ –º–µ—Ç–æ–¥–∏ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –Ω–∞ Aggregate Root:
      ```java
      product.setPrice(new Price(100));
      product.addCategory(category);
      ```
    - –ü–æ–≤—Ç–æ—Ä–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –æ–±‚Äô—î–∫—Ç —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
      ```java
      productRepository.save(product);
      ```

5. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏** ‚Äì –≤–æ–Ω–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ Aggregate Root –∞–±–æ Domain Service.



# –ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—ñ–≤
## üîπ 1. Application Services (Application Layer)

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

* –ö–æ–æ—Ä–¥–∏–Ω—É—é—Ç—å **–±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å–∏**.
* –í–∏–∫–ª–∏–∫–∞—é—Ç—å –º–µ—Ç–æ–¥–∏ **–¥–æ–º–µ–Ω–Ω–æ—ó –º–æ–¥–µ–ª—ñ** (Entities, Aggregates).
* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó** –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è/–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞–≥—Ä–µ–≥–∞—Ç—ñ–≤.
* –ù–µ –º—ñ—Å—Ç—è—Ç—å –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É –∞–≥—Ä–µ–≥–∞—Ç—ñ–≤ (—Ç—ñ–ª—å–∫–∏ orchestration).

**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è –≤ –ø—Ä–æ–µ–∫—Ç—ñ:**

```
com.edu.web.spacecatsmarket.catalog.application
    ‚îî‚îÄ ProductService.java
```

**–ü—Ä–∏–∫–ª–∞–¥ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏:**

```java
@Service
public class ProductService {

    private final ProductRepository productRepository;

    public void updateProduct(ProductId id, UpdateProductDTO dto) {
        Product product = productRepository.findById(id)
            .orElseThrow(() -> new RuntimeException("Product not found"));

        product.setName(dto.getName());
        product.setPrice(dto.getPrice());

        productRepository.save(product);
    }
}
```

---

## üîπ 2. Domain Services (Domain Layer)

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è, –∫–æ–ª–∏ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ **–Ω–µ –Ω–∞–ª–µ–∂–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∞–≥—Ä–µ–≥–∞—Ç—É**, –∞–ª–µ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –¥–µ–∫—ñ–ª—å–∫–æ—Ö –∞–≥—Ä–µ–≥–∞—Ç—ñ–≤ –∞–±–æ —Å—É—Ç–Ω–æ—Å—Ç–µ–π.
* –í–æ–Ω–∏ **—î —á–∞—Å—Ç–∏–Ω–æ—é –¥–æ–º–µ–Ω—É**, –º—ñ—Å—Ç—è—Ç—å —Å–ø—Ä–∞–≤–∂–Ω—é –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É.

**–ü—Ä–∏–∫–ª–∞–¥:**

* –°–µ—Ä–≤—ñ—Å, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –º–æ–∂–Ω–∞ –æ–±‚Äô—î–¥–Ω–∞—Ç–∏ —Ç–æ–≤–∞—Ä–∏ –∑ —Ä—ñ–∑–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ:

```java
package com.edu.web.spacecatsmarket.catalog.domain;

public class PricingService {

    public Price calculateDiscountedPrice(Product product, Customer customer) {
        // —Å–∫–ª–∞–¥–Ω–∞ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
    }
}
```

* –ú–æ–∂–µ –±—É—Ç–∏ **—ñ–Ω‚Äô—î–∫—Ç–æ–≤–∞–Ω–∏–π —É Application Service** –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

---

## üîπ 3. Infrastructure Services (Infrastructure Layer)

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**

* –¢–µ—Ö–Ω—ñ—á–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏: email, SMS, –ø–ª–∞—Ç—ñ–∂–Ω—ñ —à–ª—é–∑–∏, –∑–æ–≤–Ω—ñ—à–Ω—ñ API.
* –ú–æ–∂—É—Ç—å –º–∞—Ç–∏ @Service, –∞–ª–µ **–Ω–µ –º—ñ—Å—Ç—è—Ç—å –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É –¥–æ–º–µ–Ω—É**.

**–ü—Ä–∏–∫–ª–∞–¥:**

```java
@Service
public class EmailNotificationService {

    public void sendProductUpdateNotification(User user, Product product) {
        // –í–∏–∫–ª–∏–∫ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ SMTP-—Å–µ—Ä–≤–µ—Ä–∞
    }
}
```

---

## üîπ 4. –û—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞

| –¢–∏–ø —Å–µ—Ä–≤—ñ—Å—É                | –î–µ –ª–µ–∂–∏—Ç—å        | –ú—ñ—Å—Ç–∏—Ç—å                                | –ü—Ä–∏–∫–ª–∞–¥                  |
| -------------------------- | ---------------- | -------------------------------------- | ------------------------ |
| **Application Service**    | `application`    | orchestration: —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó + –¥–æ–º–µ–Ω     | ProductService           |
| **Domain Service**         | `domain`         | –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É, —â–æ –Ω–µ –Ω–∞–ª–µ–∂–∏—Ç—å –∞–≥—Ä–µ–≥–∞—Ç—É | PricingService           |
| **Infrastructure Service** | `infrastructure` | —Ç–µ—Ö–Ω—ñ—á–Ω—ñ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó                    | EmailNotificationService |

---

# ‚ö†Ô∏è –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º RFC 9457 (Problem Details for HTTP APIs)

## üîÑ –í—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –º—ñ–∂ RFC 9457 —Ç–∞ RFC 7807
–ù–æ–≤–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç **RFC 9457** –∑–∞–º—ñ–Ω–∏–≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π **RFC 7807** —Ç–∞ —É—Ç–æ—á–Ω–∏–≤ –ø—Ä–∞–≤–∏–ª–∞ –æ–ø–∏—Å—É –ø–æ–º–∏–ª–æ–∫ —É REST API:

- **–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è (extension members)**  
  –ë—ñ–ª—å—à —á—ñ—Ç–∫–æ –æ–ø–∏—Å–∞–Ω–æ, —â–æ –∫–ª—ñ—î–Ω—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ **—ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω—ñ –ø–æ–ª—è** —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø–æ–º–∏–ª–∫–∏.  
  –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º –¥–æ–¥–∞–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ –∞—Ç—Ä–∏–±—É—Ç–∏ (`errors`, `traceId`, `code` —Ç–æ—â–æ), –Ω–µ –ª–∞–º–∞—é—á–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤.

- **–†–µ—î—Å—Ç—Ä–∏ —Ç–∏–ø—ñ–≤ –ø—Ä–æ–±–ª–µ–º (Problem Type Registries)**  
  –í–≤–µ–¥–µ–Ω–æ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑—É–≤–∞—Ç–∏ —Ç–∏–ø–∏ –ø–æ–º–∏–ª–æ–∫ —á–µ—Ä–µ–∑ URI –∞–±–æ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏.  
  –¶–µ –¥–æ–∑–≤–æ–ª—è—î API —á—ñ—Ç–∫–æ –≤–∏–∑–Ω–∞—á–∞—Ç–∏ **–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø—Ä–æ–±–ª–µ–º** —ñ —Ä–æ–±–∏—Ç–∏ —ó—Ö –º–∞—à–∏–Ω–æ-–∑—Ä–æ–∑—É–º—ñ–ª–∏–º–∏.

- **–£—Ç–æ—á–Ω–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª**  
  –î–æ–¥–∞–Ω—ñ —è—Å–Ω—ñ—à—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ:
    - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ–ª—ñ–≤ `status`, `title`, `detail`
    - –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—ó `instance` (URI, —â–æ –≤–∫–∞–∑—É—î –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫ –ø–æ–º–∏–ª–∫–∏)
    - –ø—Ä–∞–≤–∏–ª —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤ –ø—Ä–æ–±–ª–µ–º.

---

## ‚öô –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —É Spring (Spring Framework / Spring Boot)

Spring –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É **Problem Details / RFC 9457** —É Spring MVC:

- **`ProblemDetail`**  
  –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –∫–ª–∞—Å-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–æ–ª—ñ–≤: `type`, `status`, `title`, `detail`, `instance`.

- **`ErrorResponse`**  
  –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –≤–∏–Ω—è—Ç–∫–∞–º —ñ–Ω–∫–∞–ø—Å—É–ª—é–≤–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ HTTP-—Å—Ç–∞—Ç—É—Å —Ç–∞ —Ç—ñ–ª–æ –ø–æ–º–∏–ª–∫–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ RFC 9457.

- **–ì–ª–æ–±–∞–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —á–µ—Ä–µ–∑ `@ControllerAdvice` –∞–±–æ `ResponseEntityExceptionHandler`**  
  –£ —Ü–∏—Ö –∫–ª–∞—Å–∞—Ö –º–æ–∂–Ω–∞ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ `ProblemDetail` –∞–±–æ `ErrorResponse`, —ñ Spring –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å —ñ–∑ MIME-—Ç–∏–ø–æ–º  
  **`application/problem+json`**.

- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–µ—Ä—Å—ñ—ó Spring Boot**  
  –£ –Ω–æ–≤–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Spring (6.x / Boot 3.x) –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ RFC 9457 —î –ø–æ–≤–Ω–æ—é, —É —Å—Ç–∞—Ä—ñ—à–∏—Ö ‚Äî —á–∞—Å—Ç–∫–æ–≤–æ—é.

---

‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:  
–î–ª—è —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ —É REST API –≤–∞—Ä—Ç–æ –∑–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —É —Ñ–æ—Ä–º–∞—Ç—ñ **Problem Details**,  
–∞ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–ø–∏—Å–æ–∫ –≤–∞–ª—ñ–¥–∞—Ü—ñ–π–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫) –¥–æ–¥–∞–≤–∞—Ç–∏ —è–∫ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –ø–æ–ª—è.



